<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Kja+</title>
  <!-- Favicon -->
  <link rel="icon" href="libs/inher/img/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="libs/inher/img/favicon.ico" type="image/x-icon">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="libs/inher/css/style.css">
  <link rel="stylesheet" href="libs/inher/css/responsive.css">
  <!-- Sweet alert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css" rel="stylesheet">
</head>

<body class="bgPrincipal">

  <section class="pt-100 pb-100">
    <div class="container">
      <form class="needs-validation" action="" method="" novalidate name="form1" id="envioForm">
        <div class="row justify-content-center">
          <div class="col-lg-4">
            <div class="row">
              <div class="col-md-12">
                <div class="text-center mb-20">
                  <h2 class="titleP">Bienvenido Ahorro voluntario</h2>
                  <h4 class="descripcion">Sindicato Maquilas Tetakawi</h4>
                </div>
                <div class="box-form">
                  <div class="col-md-12 mb-20">
                    <div class="form-floating mb-3 borGreen">
                      <input type="text" class="form-control" name="empresa" id="empresa" value="Tetakawi" disabled required>
                      <label for="empresa" class="form-label">Empresa</label>
                    </div>
                    <!-- <div class="invalid-feedback">Este campo es obligatorio.</div> -->
                  </div>
                  <div class="col-md-12 mb-20">
                    <div class="form-floating mb-3 borGreen">
                      <input type="text" class="form-control" name="no-empleado" id="no-empleado" onkeypress="return valideKey(event);" title="Este campo es obligatorio." autocomplete="off" required placeholder="No.de empleado*">
                      <label for="floatingInputInvalid" id="labels">No. de empleado*</label>
                      <div class="invalid-feedback">
                        Este campo es obligatorio*
                      </div>
                    </div>
                    <!-- <div class="invalid-feedback">Este campo es obligatorio.</div> -->
                  </div>
                  <div class="col-md-12 mb-20">
                    <div class="form-floating mb-3 borGreen">
                      <input type="text" class="form-control" name="nombre" id="nombre" title="Este campo es obligatorio." autocomplete="off" required placeholder="Nombre*">
                      <label for="nombre" class="form-label">Nombre*</label>
                      <div class="invalid-feedback">
                        Este campo es obligatorio*
                      </div>
                    </div>
                    <!-- <div class="invalid-feedback">Este campo es obligatorio.</div> -->
                  </div>
                  <div class="col-md-12 mb-20">
                    <div class="form-floating mb-3 borGreen">
                      <input type="text" class="form-control" name="apellidopaterno" id="apellidopaterno" title="Este campo es obligatorio." autocomplete="off" required placeholder="Apellido Paterno*">
                      <label for="apellido_paterno" class="form-label">Apellido Paterno*</label>
                      <div class="invalid-feedback">
                        Este campo es obligatorio*
                      </div>
                    </div>
                    <!-- <div class="invalid-feedback">Este campo es obligatorio.</div> -->
                  </div>
                  <div class="col-md-12 mb-20">
                    <div class="form-floating mb-3 borGreen">
                      <input type="text" class="form-control" name="apellidomaterno" id="apellidomaterno" title="Este campo es obligatorio." autocomplete="off" placeholder="Apellido Materno*">
                      <label for="apellido_materno" class="form-label">Apellido Materno</label>
                    </div>
                    <!-- <div class="invalid-feedback">Este campo es obligatorio.</div> -->
                  </div>
                  <div class="col-md-12 mb-20">
                    <div class="form-floating mb-3 borGreen">
                      <input class="form-control" minlength="10" maxlength="10" onkeypress="return valideKey(event);" autocomplete="off" oninput="this.value = this.value.replace(/[^0-9.]/g, ''); this.value = this.value.replace(/(\..*)\./g, '$1');" name="telefonocelular" id="telefonocelular" size="20" type="text" autocomplete="off" required title="El teléfono celular debe ser de 10 dígitos." placeholder="Teléfono celular*">
                      <label for="telefono_celular" class="form-label">Teléfono celular*</label>
                      <div class="invalid-feedback">Este campo es obligatorio.</div>
                    </div>
                  </div>
                  <div class="col-md-12 mb-20">
                    <div class="form-floating mb-3 borGreen">
                      <input type="email" class="form-control mb-10" title="Por favor, ingrese un correo válido." autocomplete="off" name="correo" id="correo" placeholder="Correo">
                      <label for="correo" class="form-label">Correo</label>
                    </div>
                  </div>
                  <div class="col-md-12 mb-20">
                    <div class="form-check mb-10">
                      <input type="checkbox" class="form-check-input" name="plan_gratuito" id="plan_gratuito" value="Favor de activar mi plan de protección gratuito e iniciar mi ahorro semanal por $100 pesos" checked>
                      <label class="form-check-label" for="plan_gratuito">Favor de activar mi plan de protección e iniciar mi ahorro semanal por $100 pesos</label>
                    </div>
                    <!-- <p class="nota mb-0"><i>*Por 5 meses.</i></p> -->
                  </div>
                  <div class="col-md-12 mb-20">
                    <hr class="red">
                  </div>
                  <div class="text-ahorro mb-20">
                    <p class="mb-10 puedes">Mira lo que vas a lograr….</p>
                  </div>
                  <div class="col-md-12 mb-20">
                    <table class="table table-striped centerTble">
                      <tr class="cabTh">
                        <th>Ahorrar cada semana</th>
                        <th>En Dic 2024*</th>
                        <th>En Dic 2025 si no lo sacas**</th>
                        <th>En 5 años!! Dic 2029(3)</th>
                      </tr>
                      <tr>
                        <td>150</td>
                        <td>5,390</td>
                        <td>13,600</td>
                        <td>47,232</td>
                      </tr>
                      <tr>
                        <td>200</td>
                        <td>7,200</td>
                        <td>18,300</td>
                        <td>63,459</td>
                      </tr>
                      <tr>
                        <td>250</td>
                        <td>8,990</td>
                        <td>22,900</td>
                        <td>79,666</td>
                      </tr>
                      <tr>
                        <td>300</td>
                        <td>10,790</td>
                        <td>27,600</td>
                        <td>95,879</td>
                      </tr>
                      <tr>
                        <td>500</td>
                        <td>18,020</td>
                        <td>46,200</td>
                        <td>160,811</td>
                      </tr>
                    </table>
                    <div class="notasInfo">
                      <small>*Ahorro semanal Mayo a Dic '24</small>
                      <small>**Ahorro acumulado a Dic '25, sin retirar. Tasa de interés 10.70% anual</small>
                      <small>(3) Ahorro acumulado a una tasa especial del 12.00% anual Cuenta con programa de asistencia y protección</small>
                    </div>
                    <div class="col-md-12 mb-20">
                      <hr class="green mt-30">
                    </div>
                    <div class="text-ahorro mb-20">
                      <p class="mb-10 puedes">Ahora indica, cuánto vas a ahorrar a la semana y para cuándo lo quieres</p>
                    </div>

                    <table class="tableDos">
                      <tr class="cabTh">
                        <th>Quiero ahorrar</th>
                        <th>Quiero ahorrar cada semana</th>
                        <th>Dejarlo para el retiro</th>
                      </tr>
                      <tr class="cabTh">
                        <td class=" pb-10">
                          <div class="form-check mb-5">
                            <input type="checkbox" class="form-check-input toolt" name="cien" value="100" id="cien"
                            onclick="seleccionado(1)">
                            <label>$100</label>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control cienPrimero" name="cienUno" id="cienUno" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control cienPrimero" name="cienDos"  id="cienDos" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td></td>
                        <td colspan="2">
                          <span class="montoErr"></span>
                        </td>
                      </tr>


                      <tr class="cabTh">
                        <td class=" pb-10">
                          <div class="form-check mb-5">
                            <input type="checkbox" class="form-check-input" name="cienCinco" value="$150" id="cienCinco" onclick="seleccionado(2)">
                            <label>$150</label>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="cienCincoUno"  id="cienCincoUno" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="cienCincoDos"  id="cienCincoDos" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td></td>
                        <td colspan="2">
                          <span class="montoErr2"></span>
                        </td>
                      </tr>



                      <tr class="cabTh">
                        <td class="pb-10">
                          <div class="form-check mb-5">
                            <input type="checkbox" class="form-check-input" name="dosCien" value="$200" id="dosCien" onclick="seleccionado(3)">
                            <label>$200</label>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="dosCienUno"  id="dosCienUno" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="dosCienDo"  id="dosCienDos" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td></td>
                        <td colspan="2">
                          <span class="montoErr3"></span>
                        </td>
                      </tr>

                      <tr class="cabTh">
                        <td class="pb-10">
                          <div class="form-check mb-5">
                            <input type="checkbox" class="form-check-input" name="AhorroSemanal250" id="AhorroSemanal250" onclick="seleccionado(4)">
                            <label>$250</label>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="AhorroSemanal250Uno"  id="AhorroSemanal250Uno" oninput="calcular()">
                            </div>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="AhorroSemanal250Dos"  id="AhorroSemanal250Dos" oninput="calcular()">
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td></td>
                        <td colspan="2">
                          <span class="montoErr4"></span>
                        </td>
                      </tr>

                      <tr class="cabTh">
                        <td class="pb-10">
                          <div class="form-check mb-5">
                            <input type="checkbox" class="form-check-input" name="tresCien" value="$300" id="tresCien" onclick="seleccionado(5)">
                            <label>$300</label>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="tresCieUno"  id="tresCieUno" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="tresCieDos"  id="tresCieDos" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td></td>
                        <td colspan="2">
                          <span class="montoErr5"></span>
                        </td>
                      </tr>

                      <tr class="cabTh">
                        <td class="pb-10">
                          <div class="form-check mb-5">
                            <input type="checkbox" class="form-check-input" name="cincoCien" value="$500" id="cincoCien" onclick="seleccionado(6)">
                            <label>$500</label>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="cincoCienUno"  id="cincoCienUno" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                        <td>
                          <div class="campInt">
                            <div class="input-group">
                              <span class="input-group-text">$</span>
                              <input type="number" class="form-control" name="cincoCienDos"  id="cincoCienDos" oninput="calcular()" disabled>
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td></td>
                        <td colspan="2">
                          <span class="montoErr6"></span>
                        </td>
                      </tr>

                      <!-- <tr>
                        <td colspan="3">
                          <div class="form-floating mb-3 borGreen montoP">
                            <span class="signo">$</span>
                            <input class="form-control monTos" placeholder="Desde $50" id="Monto" name="Monto" type="number" autocomplete="off" title="Coloca tu monto." >
                            <label for="correo" class="form-label">Coloca tu monto.</label>
                            <span id="error-monto" style="display: none;"></span>
                          </div>
                        </td>
                      </tr> -->
                      <tr>
                        <td></td>
                        <td colspan="2">
                          <span class="montoErr7"></span>
                        </td>
                      </tr>
                    </table>
                    <div class="notasInfo">
                      <small>*Para disponer en la semana 47 -- Dic '24</small>
                      <small>**Para dejarlo invertido a largo plazo... tasa interés 12.00% anual</small>
                      <small>Cuenta con programa de asistencia y protección</small>
                    </div>
                  </div>
                  <div class="col-md-12 mb-20">
                    <hr class="red mt-30">
                  </div>
                  <div class="text-ahorro mb-20">
                    <p class="mb-10 puedes">¿Otra cantidad? Indícala….</p>
                  </div>
                  <div class="text-check mb-10">
                    <p>Puedes elegir retirarlo en Dic 2024 o dejarlo a largo plazo para tu retiro o una combinación de ambos</p>
                    <p>Aquí un ejemplo:</p>
                  </div>
                  <table class="table table-striped centerTble">
                    <tr class="cabTh">
                      <th>Quiero ahorrar cada semana</th>
                      <th>Quiero ahorrar cada semana</th>
                      <th>Dejarlo para el retiro</th>
                    </tr>
                    <tr class="shadow">
                      <td>$250</td>
                      <td>$100</td>
                      <td>$150</td>
                    </tr>
                  </table>
                  <div class="text-check mb-10">
                    <p>Elige aquí:</p>
                  </div>
                  <table class="tableDos">
                    <tr class="cabTh">
                      <th>Quiero ahorrar cada semana</th>
                      <th>Quiero ahorrar cada semana</th>
                      <th>Dejarlo para el retiro</th>
                    </tr>
                    <tr class="cabTh">
                      <td>
                        <div class="campInt">
                          <div class="input-group mb-3">
                            <span class="input-group-text">$</span>
                            <input type="text" class="form-control"  id="montoFinal" oninput="montoElejido()">
                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="campInt">
                          <div class="input-group mb-3">
                            <span class="input-group-text">$</span>
                            <input type="text" class="form-control"  id="montoFinalUno" oninput="montoElejido()">
                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="campInt">
                          <div class="input-group mb-3">
                            <span class="input-group-text">$</span>
                            <input type="text" class="form-control"  id="montoFinalDos" oninput="montoElejido()">
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td></td>
                      <td colspan="2">
                        <span class="montoErr8"></span>
                      </td>
                    </tr>
                  </table>
                  <div class="col-md-12 mb-20">
                    <hr class="green mt-30">
                  </div>
                  <div class="col-md-12 mb-20 checkBB">
                    <div class="form-check pl-0">
                      <label for="">Semestral (semana 22)</label>
                      <input type="checkbox" name="semana_22" id="semana_22" value="semana_22" class="form-check-input" onclick="semana(1)">
                    </div>
                    <div class="form-check pl-0">
                      <label for="">Anual (semana 47)</label>
                      <input type="checkbox" name="semana_47" id="semana_47" value="semana_47" class="form-check-input" onclick="semana(2)" checked>
                    </div>
                    <div class="form-check pl-0">
                      <label for="">Ambos (semana 22 y 47)</label>
                      <input type="checkbox" name="semana_22y47" id="semana_22y47" value="semana_22y47" class="form-check-input" onclick="semana(3)" >
                      <br>
                      <span id="checkError"></span>
                    </div>
                  </div>
                  <hr class="red">
                  <div class="mb-20">
                      <ul class="listContrato">
                        <li><a href="https://came.org.mx/cof_kja_mas.html" target="_blank">COF Kja+</a></li>
                        <li><a href="https://came.org.mx/contrato_kja_mas.html" target="_blank">Contrato Kja+</a></li>
                      </ul>
                      <div class="form-check mb-5">
                        <input type="checkbox" class="form-check-input" name="aceptaLegales" id="aceptaLegales" value="aceptaLegales" onclick="firma()" checked>
                        <label class="form-check-label smallchechk" for="iniciar_100">Al firmar el cliente acepta que CAME (Consejo de Asistencia al Microemprendedor S.A de C.V.S.F.P) hizo de su conocimiento los términos y condiciones que se enlistan, los que suscriben de conformidad para todos los efectos legales, acepto la firma.</label>
                      </div>
                      <br>
                      <p class="text-center textUlt">En breve vas a recibir los detalles de tu programa de protección y asistencias.</p>
                  </div>
                  <div class="col-md-12">
                    <input class="btn btn-main w-100" type="submit" id="enviar" value="Enviar">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </section>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="./libs/inher/js/validates.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
    // Obtener el elemento de entrada
    const input = document.getElementById("Monto");

    // Agregar un event listener para capturar el evento input
    // input.addEventListener("input", function() {
    //     // Obtener el valor actual del campo
    //     let value = input.value;

    //     // Eliminar cualquier caracter que no sea un dígito del 0 al 9
    //     value = value.replace(/\D/g, '');

    //     // Formatear el número con comas para separar los millares
    //     value = formatNumberWithCommas(value);

    //     // Actualizar el valor del campo con el número formateado
    //      input.value = value;
    //   });

    // Función para formatear un número con comas para separar los millares
    function formatNumberWithCommas(number) {
        // Convertir el número a una cadena y dividirlo en partes
        let parts = number.toString().split(',');
        parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');

        // Unir las partes y devolver el número formateado
        return parts.join(',');
      }
    });

  </script>

  <!-- Validación -->
  <script>
    (function() {
      'use strict';
      window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
  </script>

  <!-- Validación teléfono 10 dígitos -->
  <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
  <script>
  // Solo números
  function valideKey(evt){

    var code = (evt.which) ? evt.which : evt.keyCode;
    if(code==8) {
      return true;
    } else if(code>=48 && code<=57) {
      return true;
    } else{
      return false;
    }
  }

  // Validación de otro monto menor a $101
  // function validar() {
  //   let monto;
  //   monto = document.getElementById('Monto').value;
  //   if (monto <= 501) {
  //     document.getElementById("error-monto").innerHTML = "El monto debe ser a partir de $501";
  //     document.getElementById("error-monto").style.display = '';
  //   }
  // }

  $(document).ready(function() {

    $("input[name='Monto']").focus(function() {
      $("input[name='AhorroSemanal']").prop('checked', false);
      $("input[name='plan_gratuito']").prop('checked', false);
      $("input[name='plan_proteccion']").prop('checked', true);
      
    });

    $("input[name='Monto']").blur(function() {
      if ($(this).val() === "") {
        $("input[id='AhorroSemanal250']").prop('checked', true);
        $("input[name='plan_gratuito']").prop('checked', true);
        $("input[name='plan_proteccion']").prop('checked', false);
      }
      if ($(this).val() < 50) {
        document.getElementById("error-monto").innerHTML = "El monto debe ser a partir de $50";
        document.getElementById("error-monto").style.display = '';
        $("input[name='Monto']").val("");
        $("input[name='Monto']").prop('required', true);
      }else{
        document.getElementById("error-monto").innerHTML = "";
      }

      
    });
    // $("input[name='AhorroSemanal']").change(function() {
    //   $("input[name='AhorroSemanal']").not(this).prop('checked', false);
    //   $("input[name='Monto']").prop('value', "");
    // });

    $("input[name='AhorroSemanal']").change(function() {
      if (!$("input[name='AhorroSemanal']:checked").length && $("input[name='Monto']").val() == "") {
        $("input[name='iniciar_100']").prop('checked', true);
        $("input[name='plan_proteccion']").prop('checked', false);
      } else {
        $("input[name='iniciar_100']").prop('checked', false);
        $("input[name='plan_proteccion']").prop('checked', true);
      }
      $("input[name='AhorroSemanal']").not(this).prop('checked', false);
      $("input[name='Monto']").prop('required', false);
      $("input[name='Monto']").val("");
    });

  // Validación de checkbox
  // $("#AhorroSemanal250").change(function() {
  //   if ($(this).is(":checked")) {
  //     $("input[name='plan_proteccion']").prop('checked', true);
  //     $("input[name='iniciar_100']").prop('checked', false);
  //   } else {
  //     $("input[type='checkbox']").not(this).prop('checked', false);
  //     $("input[name='plan_proteccion']").prop('checked', false);
  //     $("input[name='iniciar_100']").prop('checked', true);
  //   }
  // });
  // $(document).click(function() {
  //   var ahorroSemanal = $("input[name='AhorroSemanal']:checked").val();
  // });

// formulario Validación
$("#envioForm").validate({
  rules: {
    first_name : {
      required: true,
      minlength: 3
    },
    last_name : {
      required: true,
      minlength: 3
    }
  },
  messages : {
    first_name: {
      minlength: "El nombre debe tener al menos 3 caracteres."
    },
    last_name: {
      minlength: "El nombre debe tener al menos 3 caracteres."
    }
  }
});

});


  




</script>

<!-- Separar millares por comas -->
<!-- <script>
  function iniTodo(idForm, idCampo, dec, mil){
    let obj = document.getElementsByName(idForm)[0];
    obj.idCampo = idCampo;
    obj.posDec = dec;
    obj.miles = mil;
    obj.onkeyup = procTecla;
    obj.sepMil = ",";
    obj.sepDec = ".";
    obj.local = "en-US";
  }
  function procTecla(ev){
    let Monto = this.idCampo
    let cadena = this[Monto].value;
    let punto = cadena.indexOf(this.sepDec);
    let decimales = (punto>=0)?cadena.substr(punto):"";
    let tecla = event.key;
    let cars = /[\.0-9+\-]/;
    let digs = /[\.0-9]/;
    let minumero = 0;

    if(cadena.length==0){
      return
    }
    if(cadena.length==1){
      if (cars.test(tecla)){
        cadena = tecla; 
        if (tecla == this.sepDec){
          cadena = '0'+this.sepDec;
        }
      }
    }
    else{
      if(digs.test(tecla)){
        if (punto > 0){
          if(cadena.split(this.sepDec).length == 2){
            decimales = cadena.substr(punto);
            if(decimales.length-1 > this.posDec){
              decimales = decimales.slice(0,-1);
              cadena = cadena.slice(0, -1 );
            }
          }
        }
      }
      else{
        if(tecla.length==1){
          decimales = decimales.slice(0,-1);
          cadena = cadena.slice(0,-1);
        }
      }
      minumero = parseInt(cadena.replaceAll(this.sepMil,''));
      cadena = minumero.toLocaleString(this.local);
      cadena = decimales.length>0? cadena+decimales : cadena;
    }
    this[Monto].value = cadena
  }
</script> -->

<!-- Integración API -->
<!-- <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> -->
<script>
  function semana(elemento) {
    var checkbox1 = document.getElementById("semana_22");
    var checkbox2 = document.getElementById("semana_47");
    var checkbox3 = document.getElementById("semana_22y47");
    var btnEnviar = document.getElementById('enviar');

    if (checkbox1.checked == true && elemento !==2 && elemento !==3) {
        checkbox2.checked = false;
        checkbox3.checked = false;
    }
    if(checkbox2.checked == true && elemento !==1 && elemento !==3){
        checkbox1.checked = false;
        checkbox3.checked = false;
    }
    if(checkbox3.checked == true && elemento !==1 && elemento !==2){
      checkbox1.checked = false;
      checkbox2.checked = false;
    }
    if(checkbox3.checked == false && checkbox2.checked == false && checkbox1.checked == false){
      
    document.getElementById("checkError").innerHTML = "Debes seleccionar almenos una opción.";
    btnEnviar.disabled = true;
    }else{
    document.getElementById("checkError").innerHTML = "";
    btnEnviar.disabled = false;
    }
}





function firma(){
  var firmaCheck = document.getElementById('aceptaLegales');
  var btnEnviar = document.getElementById('enviar');
  if(firmaCheck.checked === true){
     btnEnviar.disabled = false;
  }else{
    btnEnviar.disabled = true;
  }
}

  $(function () {
    // Manejar el evento submit del formulario
    $('#envioForm').submit(function (event) {
        // Evitar que el formulario se envíe normalmente
        event.preventDefault();

        if (this.checkValidity()) {

        // Obtener los valores de los campos de entrada
        var no_empleado = $('#no-empleado').val();
        var empresa = $('#empresa').val();
        var nombre = $('#nombre').val();
        var apellidopaterno = $('#apellidopaterno').val();
        var apellidomaterno = $('#apellidomaterno').val();
        var telefonocelular = $('#telefonocelular').val();
        var correo = $('#correo').val();
        var plan_gratuito = $("input[name='plan_gratuito']:checked").val();
        //var AhorroSemanal = $("input[name='AhorroSemanal']:checked").val();
        // var plan_proteccion = $("input[name='plan_proteccion']:checked").val();
        // var iniciar_100 = $("input[name='iniciar_100']:checked").val();
        var Monto = $('#Monto').val();
        var semana_22 = $("input[name='semana_22']:checked").val();
        var semana_47 = $("input[name='semana_47']:checked").val();
        var semana_22y47 = $("input[name='semana_22y47']:checked").val();
        var aceptaLegales = $("input[name='aceptaLegales']:checked").val();
        // ELEMENTOS DE LA TABLA
        // valores de 100
        var cien = $("input[name='cien']:checked").val();
        var cienUno = document.getElementById("cienUno").value;
        var cienDos = document.getElementById("cienDos").value;
        // valores de 150
        var cientocincuenta = $("input[name='cienCinco']:checked").value;
        var cienCincuenta    = document.getElementById('cienCincoUno').value;
        var cienCincuentaDos = document.getElementById('cienCincoDos').value;
        // valores de 200
        var dosCien = $("input[name='dosCien']:checked").value;
        var dosCienUno = document.getElementById('dosCienUno').value;
        var dosCienDos = document.getElementById('dosCienDos').value;
        // valores de 250
        var AhorroSemanal250 = $("input[name='AhorroSemanal250']:checked").value;
        var AhorroSemanal250Uno = document.getElementById('AhorroSemanal250Uno').value;
        var AhorroSemanal250Dos = document.getElementById('AhorroSemanal250Dos').value;
        // valores de 300
        var tresCien = $("input[name='tresCien']:checked").value;
        var tresCieUno = document.getElementById('tresCieUno').value;
        var tresCieDos = document.getElementById('tresCieDos').value;
        // valores de 500
        var cincoCien = $("input[name='cincoCien']:checked").value;
        var cincoCienUno = document.getElementById('cincoCienUno').value;
        var cincoCienDos = document.getElementById('cincoCienDos').value;
        // ELIGE AQUI
        var montoEligeAqui = document.getElementById('montoFinal').value;
        var montoEligeAquiUno = document.getElementById('montoFinalUno').value;
        var montoEligeAquiDos = document.getElementById('montoFinalDos').value;

        

        

        // Construir el objeto de datos
        var data = {
          "no-empleado": no_empleado,
          "empresa": empresa,
          "datos-solicitud": JSON.stringify({
            "Nombre": nombre,
            "Apellido paterno": apellidopaterno,
            "Apellido materno": apellidomaterno,
            "Teléfono celular": telefonocelular,
            "Correo": correo,
            "Plan gratuito": plan_gratuito,
            //"Ahorro semanal": AhorroSemanal,
            // "Plan protección": plan_proteccion,
            // "Iniciar con $100": iniciar_100,
            "Monto": Monto,
            "semana_22": semana_22,
            "semana_47": semana_47,
            "semana_22y47": semana_22y47,
            "aceptaLegales": aceptaLegales,
            // Datos de la tabla
            "Monto100": cien,
            "Monto100Uno":   cienUno,
            "Monto100Dos":   cienDos,
            // 150
            "Monto150":  cientocincuenta,
            "Monto150Uno": cienCincuenta,
            "Monto150Dos": cienCincuentaDos,
            // 200
            "Monto200":  dosCien,
            "Monto200Uno": dosCienUno,
            "Monto200Dos": dosCienDos,
            // 250
            "Monto250": AhorroSemanal250,
            "Monto250Uno": AhorroSemanal250Uno,
            "Monto250Dos": AhorroSemanal250Dos,
            // 300
            "Monto300": tresCien,
            "Monto300Uno": tresCieUno,
            "Monto300Dos": tresCieDos,
            // 500
            "Monto500": cincoCien,
            "Monto500Uno": cincoCienUno,
            "Monto500Dos": cincoCienDos,
            // Elige Aqui
            "montoFinal": montoEligeAqui,
            "montoFinalUno": montoEligeAquiUno,
            "montoFinalDos": montoEligeAquiDos,
          })
        };

        // Realizar la solicitud AJAX
        console.log(JSON.stringify(data));

        // $.ajax({
        //   crossDomain: true,
        //   url: "https://tksdev.tecas.com.mx:6010/ServicioCapturaAhorro/capturaahorro/Registrar",
        //   type: "POST",
        //   headers: {
        //     'Access-Control-Allow-Origin': '*',
        //     'user-access-control': 'Sev_ahorro',
        //     'tks-tch-access-control': '9DEV5ZFk24GOzScAh'
        //   },
        //   dataType: "json",
        //   contentType: 'application/json; charset=utf-8',
        //   data: JSON.stringify(data),
        //     success: function (data) {
        //       alert('¡Registro cargado exitosamente!');
        //       console.log(data);
        //     },
        //     error: function (error) {
        //       alert('Error al enviar la solicitud: ' + error.responseText);
        //     }
        //   });

        // Local
        // fetch('https://tksdev.tecas.com.mx:6010/ServicioCapturaAhorro/capturaahorro/Registrar', {
          // Demo
          // fetch('https://cmeappq.came.org.mx:6010/ServicioCapturaAhorro/capturaahorro/Registrar', {
            // Producción
            fetch('https://cmeappp.came.org.mx:6010/ServicioCapturaAhorro/capturaahorro/Registrar', {
              method: 'POST',
              headers: {
                'Access-Control-Allow-Origin': '*',
                'Access-Control-Allow-Methods': 'GET, POST, PATCH, PUT, DELETE, OPTIONS',
                'Access-Control-Allow-Headers': 'Origin, Content-Type, X-Auth-Token',
                'user-access-control': 'Sev_ahorro',
            // Local
            // 'tks-tch-access-control': '9DEV5ZFk24GOzScAh',
            // Demo
            // 'tks-tch-access-control': '9QA5ZFk24GOzScAh',
            // Producción
            'tks-tch-access-control': '9PROD5ZFk24GOzScAh',
            'Content-Type': 'application/json; charset=utf-8'
          },
          body: JSON.stringify(data)
          // , mode: 'no-cors'
        })
            .then(response => {
          // alert('¡Registro cargado exitosamente!');
          window.location.replace("gracias.html");
        })
            .catch(error => {
              alert('Lo sentimos, su solicitud no ha podido ser enviada, por favor inténtelo más tarde.');
            });
          }});
  });
</script>

<!-- <script>
  let url = 'https://jsonplaceholder.typicode.com/users/';
        fetch(url)
            .then( response => response.json() )
            .then( data => mostrarData(data) )
            .catch( error => console.log(error) )

        const mostrarData = (data) => {
            console.log(data)
            let body = ""
            for (var i = 0; i < data.length; i++) {      
               body+=`<tr><td>${data[i].id}</td><td>${data[i].name}</td><td>${data[i].email}</td></tr>`
            }
            document.getElementById('data').innerHTML = body
            //console.log(body)
        }

</script> -->

</body>
</html>